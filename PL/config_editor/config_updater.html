<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
</head>

<script src="FileSaver.js"></script>
<script src="iso_8859_2.js"></script>
<script src="config_updater_strings_PL.js"></script>

<style>
  body {
    font-family: sans-serif;
    font-size: 14px;
    color: white;
    background-color: black;
  }
  
  td, table {
    border-style: solid;
    border-radius: 5px;
    text-align: center;
    border-color: white;
  }
  
  table {
    margin-left: auto;
    margin-right: auto;
  }
  
  select {
    background-color: #c0c0c0;
  }
  
  hr {
    height: 5px;
    color: white;
    background-color: white;
  }
  
  input[type="file"], input[type="button"] {
    display: none;
  }
  
  .custom-file-upload {
    border: 5px solid white;
    border-radius: 10px;
    display: inline-block;
    padding: 6px 12px;
    cursor: pointer;
    transition: 0.3s;
  }
  
  .custom-file-upload:hover {
    background-color: gray;
    color: white;
  }
</style>

<body onload='load_strings()'>
  <hr>
  
  <table style='border:none;width:100%;font-size:50px;padding:10px'>
    <tr>
      <td style='border:none'>
        <label id='S_load_config' class='custom-file-upload'>
          <input type='file' onchange='load_file(event)'/>
        </label>
      </td>
    </tr>
  </table>
  
  <br>
  
  <center>
    <div id="loaded_version"></div>
  </center>
  
  <br>
  
  <center>
    <select id="select_version_to_convert_to">
      <option>3.0.0 +</option>
      <option>2.0.1 - 3.0.0</option>
    </select>
  </center>
  
  <br>
  
  <table style='border:none;width:100%;font-size:50px;padding:10px'>
    <tr>
      <td style='border:none'>
        <label id='S_download_config' class='custom-file-upload'>
          <input type='button' onclick='download_file()'/>
        </label>
      </td>
    </tr>
  </table>
  
  <hr>
</body>

<script>
  var old_configuration_loaded = false;
  
  //Tool objects
  var acceleration_timer_tool = {};
  var oil_level_checker_tool = {};
  var engine_mileage_tool = {};
  
  //Currently used modules
  var used_kwp_devices = [0, 0, 0, 0, 0];
  var used_uds_devices = [0, 0, 0, 0, 0];

  //Array containing pages' configurations
  var page_array = [];
  
  function load_strings() {
    document.title = S_page_title;
    
    document.getElementById('loaded_version').innerHTML = S_loaded + S_none;
    
    for (const str in HTML_strings) {
      var elms = document.querySelectorAll("#" + str);
      for(var i = 0; i < elms.length; i++) {
        elms[i].insertAdjacentHTML("beforeend", HTML_strings[str]);
      }
    }
  }
    
  var load_file = function(event) {
    var reader = new FileReader();
    
    reader.onload = function() {
      determine_config_version(reader);
    };
    
    reader.readAsArrayBuffer(event.target.files[0]);
  }
  
  function determine_config_version(reader) {
    old_configuration_loaded = false;
    
    //Store the read data in an array
    var bytes_read = reader.result.byteLength;
    var buffer = new ArrayBuffer(bytes_read);
    buffer = reader.result;
    
    //Convert the read data to uint8
    var file_buffer = new Uint8Array(buffer);
    
    //Validate the file format
    var signature1 = (file_buffer[0] << 8) | file_buffer[1];
    var signature2 = (file_buffer[bytes_read - 2] << 8) | file_buffer[bytes_read - 1];
    
    if (!(signature1 === 0x55AA && signature2 === 0x55AA)) {
      alert(S_invalid_format);
      return;
    }
    
    var config_version = (file_buffer[3] << 8) | file_buffer[2];
    if (config_version < 512) {
      document.getElementById('loaded_version').innerHTML = S_loaded + "2.0.0";
      parse_2_0_0_config(file_buffer);
    }
    else if (config_version == 0x0200) {
      document.getElementById('loaded_version').innerHTML = S_loaded + "2.0.1 + ";
      parse_2_0_1_config(file_buffer);
    }
    else {
      document.getElementById('loaded_version').innerHTML = S_loaded + S_none;
      alert(S_cant_update);
      return;
    }
  }
  
  function parse_2_0_1_config(file_buffer) {
    var decoder = new TextDecoder('iso-8859-2');
    
    //Check if the acceleration timer tool is enabled
    var acceleration_timer_tool_start = 4;
    acceleration_timer_tool.enabled = file_buffer[acceleration_timer_tool_start];
    
    var acceleration_timer_tool_end = acceleration_timer_tool_start + 1;
    if (acceleration_timer_tool.enabled) {
      var acceleration_timer_tool_protocol_start = acceleration_timer_tool_end;
      acceleration_timer_tool.protocol = file_buffer[acceleration_timer_tool_protocol_start];
      
      var acceleration_timer_tool_module_start = acceleration_timer_tool_protocol_start + 1;
      acceleration_timer_tool.module = file_buffer[acceleration_timer_tool_module_start];
      
      switch (acceleration_timer_tool.protocol) {
        case 0:
          var acceleration_timer_tool_block_start = acceleration_timer_tool_module_start + 1;
          acceleration_timer_tool.block = file_buffer[acceleration_timer_tool_block_start];
          
          var acceleration_timer_tool_index_start = acceleration_timer_tool_block_start + 1;
          acceleration_timer_tool.index = file_buffer[acceleration_timer_tool_index_start];
          
          acceleration_timer_tool_end = acceleration_timer_tool_index_start + 1;
          break;
        
        case 1:
          var acceleration_timer_tool_identifier_array_start = acceleration_timer_tool_module_start + 1;
          var acceleration_timer_tool_identifier_array_end = acceleration_timer_tool_identifier_array_start + 2;
          var acceleration_timer_tool_identifier_array = file_buffer.slice(acceleration_timer_tool_identifier_array_start, acceleration_timer_tool_identifier_array_end);
          var acceleration_timer_tool_identifier = (new Uint16Array(acceleration_timer_tool_identifier_array.buffer))[0];
          acceleration_timer_tool.identifier = acceleration_timer_tool_identifier;
                      
          var acceleration_timer_tool_endianness_start = acceleration_timer_tool_identifier_array_end;
          var acceleration_timer_tool_endianness = file_buffer[acceleration_timer_tool_endianness_start];
          acceleration_timer_tool.endianness = acceleration_timer_tool_endianness;
          
          var acceleration_timer_tool_size_start = acceleration_timer_tool_endianness_start + 1;
          var acceleration_timer_tool_size = file_buffer[acceleration_timer_tool_size_start];
          acceleration_timer_tool.size = acceleration_timer_tool_size;
          
          var acceleration_timer_tool_sign_start = acceleration_timer_tool_size_start + 1;
          var acceleration_timer_tool_sign = file_buffer[acceleration_timer_tool_sign_start];
          acceleration_timer_tool.sign = acceleration_timer_tool_sign;
          
          var acceleration_timer_tool_factor_array_start = acceleration_timer_tool_sign_start + 1;
          var acceleration_timer_tool_factor_array_end = acceleration_timer_tool_factor_array_start + 2;
          var acceleration_timer_tool_factor_array = file_buffer.slice(acceleration_timer_tool_factor_array_start, acceleration_timer_tool_factor_array_end);
          var acceleration_timer_tool_factor = (new Uint16Array(acceleration_timer_tool_factor_array.buffer))[0];
          acceleration_timer_tool.factor = acceleration_timer_tool_factor;
          
          var acceleration_timer_tool_divisor_array_start = acceleration_timer_tool_factor_array_end;
          var acceleration_timer_tool_divisor_array_end = acceleration_timer_tool_divisor_array_start + 2;
          var acceleration_timer_tool_divisor_array = file_buffer.slice(acceleration_timer_tool_divisor_array_start, acceleration_timer_tool_divisor_array_end);
          var acceleration_timer_tool_divisor = (new Uint16Array(acceleration_timer_tool_divisor_array.buffer))[0];
          acceleration_timer_tool.divisor = acceleration_timer_tool_divisor;
          
          var acceleration_timer_tool_offset_array_start = acceleration_timer_tool_divisor_array_end;
          var acceleration_timer_tool_offset_array_end = acceleration_timer_tool_offset_array_start + 4;
          var acceleration_timer_tool_offset_array = file_buffer.slice(acceleration_timer_tool_offset_array_start, acceleration_timer_tool_offset_array_end);
          var acceleration_timer_tool_offset = (new Float32Array(acceleration_timer_tool_offset_array.buffer))[0];
          acceleration_timer_tool_offset = acceleration_timer_tool_offset.toFixed(2);
          acceleration_timer_tool.offset = acceleration_timer_tool_offset;
          
          acceleration_timer_tool_end = acceleration_timer_tool_offset_array_end;
          break;
      }
    }
    
    //Check if the oil level checker tool is enabled
    var oil_level_checker_tool_start = acceleration_timer_tool_end;
    oil_level_checker_tool.enabled = file_buffer[oil_level_checker_tool_start];
    
    var oil_level_checker_tool_end = oil_level_checker_tool_start + 1;
    if (oil_level_checker_tool.enabled) {
      var oil_level_checker_tool_min_array_start = oil_level_checker_tool_end;
      var oil_level_checker_tool_min_array_end = oil_level_checker_tool_min_array_start + 4;
      var oil_level_checker_tool_min_array = file_buffer.slice(oil_level_checker_tool_min_array_start, oil_level_checker_tool_min_array_end);
      var oil_level_checker_tool_min = (new Float32Array(oil_level_checker_tool_min_array.buffer))[0];
      oil_level_checker_tool_min = oil_level_checker_tool_min.toFixed(2);
      oil_level_checker_tool.min = oil_level_checker_tool_min;
      
      var oil_level_checker_tool_max_array_start = oil_level_checker_tool_min_array_end;
      var oil_level_checker_tool_max_array_end = oil_level_checker_tool_max_array_start + 4;
      var oil_level_checker_tool_max_array = file_buffer.slice(oil_level_checker_tool_max_array_start, oil_level_checker_tool_max_array_end);
      var oil_level_checker_tool_max = (new Float32Array(oil_level_checker_tool_max_array.buffer))[0];
      oil_level_checker_tool_max = oil_level_checker_tool_max.toFixed(2);
      oil_level_checker_tool.max = oil_level_checker_tool_max;
      
      var oil_level_checker_tool_protocol_start = oil_level_checker_tool_max_array_end;
      oil_level_checker_tool.protocol = file_buffer[oil_level_checker_tool_protocol_start];
      
      var oil_level_checker_tool_module_start = oil_level_checker_tool_protocol_start + 1;
      oil_level_checker_tool.module = file_buffer[oil_level_checker_tool_module_start];
      
      switch (oil_level_checker_tool.protocol) {
        case 0:
          //Oil level
          var oil_level_checker_tool_block_start = oil_level_checker_tool_module_start + 1;
          oil_level_checker_tool.block = file_buffer[oil_level_checker_tool_block_start];
          
          var oil_level_checker_tool_index_start = oil_level_checker_tool_block_start + 1;
          oil_level_checker_tool.index = file_buffer[oil_level_checker_tool_index_start];
          
          //Oil temp
          var oil_level_checker_tool_block_temp_start = oil_level_checker_tool_index_start + 1;
          oil_level_checker_tool.block_temp = file_buffer[oil_level_checker_tool_block_temp_start];
          
          var oil_level_checker_tool_index_temp_start = oil_level_checker_tool_block_temp_start + 1;
          oil_level_checker_tool.index_temp = file_buffer[oil_level_checker_tool_index_temp_start];
          
          oil_level_checker_tool_end = oil_level_checker_tool_index_temp_start + 1;
          break;
        
        case 1:
          //Oil level
          var oil_level_checker_tool_identifier_array_start = oil_level_checker_tool_module_start + 1;
          var oil_level_checker_tool_identifier_array_end = oil_level_checker_tool_identifier_array_start + 2;
          var oil_level_checker_tool_identifier_array = file_buffer.slice(oil_level_checker_tool_identifier_array_start, oil_level_checker_tool_identifier_array_end);
          var oil_level_checker_tool_identifier = (new Uint16Array(oil_level_checker_tool_identifier_array.buffer))[0];
          oil_level_checker_tool.identifier = oil_level_checker_tool_identifier;
                      
          var oil_level_checker_tool_endianness_start = oil_level_checker_tool_identifier_array_end;
          var oil_level_checker_tool_endianness = file_buffer[oil_level_checker_tool_endianness_start];
          oil_level_checker_tool.endianness = oil_level_checker_tool_endianness;
          
          var oil_level_checker_tool_size_start = oil_level_checker_tool_endianness_start + 1;
          var oil_level_checker_tool_size = file_buffer[oil_level_checker_tool_size_start];
          oil_level_checker_tool.size = oil_level_checker_tool_size;
          
          var oil_level_checker_tool_sign_start = oil_level_checker_tool_size_start + 1;
          var oil_level_checker_tool_sign = file_buffer[oil_level_checker_tool_sign_start];
          oil_level_checker_tool.sign = oil_level_checker_tool_sign;
          
          var oil_level_checker_tool_factor_array_start = oil_level_checker_tool_sign_start + 1;
          var oil_level_checker_tool_factor_array_end = oil_level_checker_tool_factor_array_start + 2;
          var oil_level_checker_tool_factor_array = file_buffer.slice(oil_level_checker_tool_factor_array_start, oil_level_checker_tool_factor_array_end);
          var oil_level_checker_tool_factor = (new Uint16Array(oil_level_checker_tool_factor_array.buffer))[0];
          oil_level_checker_tool.factor = oil_level_checker_tool_factor;
          
          var oil_level_checker_tool_divisor_array_start = oil_level_checker_tool_factor_array_end;
          var oil_level_checker_tool_divisor_array_end = oil_level_checker_tool_divisor_array_start + 2;
          var oil_level_checker_tool_divisor_array = file_buffer.slice(oil_level_checker_tool_divisor_array_start, oil_level_checker_tool_divisor_array_end);
          var oil_level_checker_tool_divisor = (new Uint16Array(oil_level_checker_tool_divisor_array.buffer))[0];
          oil_level_checker_tool.divisor = oil_level_checker_tool_divisor;
          
          var oil_level_checker_tool_offset_array_start = oil_level_checker_tool_divisor_array_end;
          var oil_level_checker_tool_offset_array_end = oil_level_checker_tool_offset_array_start + 4;
          var oil_level_checker_tool_offset_array = file_buffer.slice(oil_level_checker_tool_offset_array_start, oil_level_checker_tool_offset_array_end);
          var oil_level_checker_tool_offset = (new Float32Array(oil_level_checker_tool_offset_array.buffer))[0];
          oil_level_checker_tool_offset = oil_level_checker_tool_offset.toFixed(2);
          oil_level_checker_tool.offset = oil_level_checker_tool_offset;
          
          //Oil temp
          var oil_level_checker_tool_identifier_temp_array_start = oil_level_checker_tool_offset_array_end;
          var oil_level_checker_tool_identifier_temp_array_end = oil_level_checker_tool_identifier_temp_array_start + 2;
          var oil_level_checker_tool_identifier_temp_array = file_buffer.slice(oil_level_checker_tool_identifier_temp_array_start, oil_level_checker_tool_identifier_temp_array_end);
          var oil_level_checker_tool_identifier_temp = (new Uint16Array(oil_level_checker_tool_identifier_temp_array.buffer))[0];
          oil_level_checker_tool.identifier_temp = oil_level_checker_tool_identifier_temp;
                      
          var oil_level_checker_tool_endianness_temp_start = oil_level_checker_tool_identifier_temp_array_end;
          var oil_level_checker_tool_endianness_temp = file_buffer[oil_level_checker_tool_endianness_temp_start];
          oil_level_checker_tool.endianness_temp = oil_level_checker_tool_endianness_temp;
          
          var oil_level_checker_tool_size_temp_start = oil_level_checker_tool_endianness_temp_start + 1;
          var oil_level_checker_tool_size_temp = file_buffer[oil_level_checker_tool_size_temp_start];
          oil_level_checker_tool.size_temp = oil_level_checker_tool_size_temp;
          
          var oil_level_checker_tool_sign_temp_start = oil_level_checker_tool_size_temp_start + 1;
          var oil_level_checker_tool_sign_temp = file_buffer[oil_level_checker_tool_sign_temp_start];
          oil_level_checker_tool.sign_temp = oil_level_checker_tool_sign_temp;
          
          var oil_level_checker_tool_factor_temp_array_start = oil_level_checker_tool_sign_temp_start + 1;
          var oil_level_checker_tool_factor_temp_array_end = oil_level_checker_tool_factor_temp_array_start + 2;
          var oil_level_checker_tool_factor_temp_array = file_buffer.slice(oil_level_checker_tool_factor_temp_array_start, oil_level_checker_tool_factor_temp_array_end);
          var oil_level_checker_tool_factor_temp = (new Uint16Array(oil_level_checker_tool_factor_temp_array.buffer))[0];
          oil_level_checker_tool.factor_temp = oil_level_checker_tool_factor_temp;
          
          var oil_level_checker_tool_divisor_temp_array_start = oil_level_checker_tool_factor_temp_array_end;
          var oil_level_checker_tool_divisor_temp_array_end = oil_level_checker_tool_divisor_temp_array_start + 2;
          var oil_level_checker_tool_divisor_temp_array = file_buffer.slice(oil_level_checker_tool_divisor_temp_array_start, oil_level_checker_tool_divisor_temp_array_end);
          var oil_level_checker_tool_divisor_temp = (new Uint16Array(oil_level_checker_tool_divisor_temp_array.buffer))[0];
          oil_level_checker_tool.divisor_temp = oil_level_checker_tool_divisor_temp;
          
          var oil_level_checker_tool_offset_temp_array_start = oil_level_checker_tool_divisor_temp_array_end;
          var oil_level_checker_tool_offset_temp_array_end = oil_level_checker_tool_offset_temp_array_start + 4;
          var oil_level_checker_tool_offset_temp_array = file_buffer.slice(oil_level_checker_tool_offset_temp_array_start, oil_level_checker_tool_offset_temp_array_end);
          var oil_level_checker_tool_offset_temp = (new Float32Array(oil_level_checker_tool_offset_temp_array.buffer))[0];
          oil_level_checker_tool_offset_temp = oil_level_checker_tool_offset_temp.toFixed(2);
          oil_level_checker_tool.offset_temp = oil_level_checker_tool_offset_temp;
          
          oil_level_checker_tool_end = oil_level_checker_tool_offset_temp_array_end;
          break;
      }
    }
    
    //Check if the engine mileage tool is enabled
    var engine_mileage_tool_start = oil_level_checker_tool_end;
    engine_mileage_tool.enabled = file_buffer[engine_mileage_tool_start];
    
    var engine_mileage_tool_end = engine_mileage_tool_start + 1;
    if (engine_mileage_tool.enabled) {
      var engine_mileage_tool_km_offset_array_start = engine_mileage_tool_end;
      var engine_mileage_tool_km_offset_array_end = engine_mileage_tool_km_offset_array_start + 4;
      var engine_mileage_tool_km_offset_array = file_buffer.slice(engine_mileage_tool_km_offset_array_start, engine_mileage_tool_km_offset_array_end);
      var engine_mileage_tool_km_offset = (new Uint32Array(engine_mileage_tool_km_offset_array.buffer))[0];
      engine_mileage_tool.km_offset = engine_mileage_tool_km_offset;
      
      var engine_mileage_tool_protocol_start = engine_mileage_tool_km_offset_array_end;
      engine_mileage_tool.protocol = file_buffer[engine_mileage_tool_protocol_start];
      
      var engine_mileage_tool_module_start = engine_mileage_tool_protocol_start + 1;
      engine_mileage_tool.module = file_buffer[engine_mileage_tool_module_start];
      
      switch (engine_mileage_tool.protocol) {
        case 0:
          var engine_mileage_tool_block_start = engine_mileage_tool_module_start + 1;
          engine_mileage_tool.block = file_buffer[engine_mileage_tool_block_start];
          
          var engine_mileage_tool_index_start = engine_mileage_tool_block_start + 1;
          engine_mileage_tool.index = file_buffer[engine_mileage_tool_index_start];
          
          engine_mileage_tool_end = engine_mileage_tool_index_start + 1;
          break;
        
        case 1:
          var engine_mileage_tool_identifier_array_start = engine_mileage_tool_module_start + 1;
          var engine_mileage_tool_identifier_array_end = engine_mileage_tool_identifier_array_start + 2;
          var engine_mileage_tool_identifier_array = file_buffer.slice(engine_mileage_tool_identifier_array_start, engine_mileage_tool_identifier_array_end);
          var engine_mileage_tool_identifier = (new Uint16Array(engine_mileage_tool_identifier_array.buffer))[0];
          engine_mileage_tool.identifier = engine_mileage_tool_identifier;
                      
          var engine_mileage_tool_endianness_start = engine_mileage_tool_identifier_array_end;
          var engine_mileage_tool_endianness = file_buffer[engine_mileage_tool_endianness_start];
          engine_mileage_tool.endianness = engine_mileage_tool_endianness;
          
          var engine_mileage_tool_size_start = engine_mileage_tool_endianness_start + 1;
          var engine_mileage_tool_size = file_buffer[engine_mileage_tool_size_start];
          engine_mileage_tool.size = engine_mileage_tool_size;
          
          var engine_mileage_tool_sign_start = engine_mileage_tool_size_start + 1;
          var engine_mileage_tool_sign = file_buffer[engine_mileage_tool_sign_start];
          engine_mileage_tool.sign = engine_mileage_tool_sign;
          
          var engine_mileage_tool_factor_array_start = engine_mileage_tool_sign_start + 1;
          var engine_mileage_tool_factor_array_end = engine_mileage_tool_factor_array_start + 2;
          var engine_mileage_tool_factor_array = file_buffer.slice(engine_mileage_tool_factor_array_start, engine_mileage_tool_factor_array_end);
          var engine_mileage_tool_factor = (new Uint16Array(engine_mileage_tool_factor_array.buffer))[0];
          engine_mileage_tool.factor = engine_mileage_tool_factor;
          
          var engine_mileage_tool_divisor_array_start = engine_mileage_tool_factor_array_end;
          var engine_mileage_tool_divisor_array_end = engine_mileage_tool_divisor_array_start + 2;
          var engine_mileage_tool_divisor_array = file_buffer.slice(engine_mileage_tool_divisor_array_start, engine_mileage_tool_divisor_array_end);
          var engine_mileage_tool_divisor = (new Uint16Array(engine_mileage_tool_divisor_array.buffer))[0];
          engine_mileage_tool.divisor = engine_mileage_tool_divisor;
          
          var engine_mileage_tool_offset_array_start = engine_mileage_tool_divisor_array_end;
          var engine_mileage_tool_offset_array_end = engine_mileage_tool_offset_array_start + 4;
          var engine_mileage_tool_offset_array = file_buffer.slice(engine_mileage_tool_offset_array_start, engine_mileage_tool_offset_array_end);
          var engine_mileage_tool_offset = (new Float32Array(engine_mileage_tool_offset_array.buffer))[0];
          engine_mileage_tool_offset = engine_mileage_tool_offset.toFixed(2);
          engine_mileage_tool.offset = engine_mileage_tool_offset;
          
          engine_mileage_tool_end = engine_mileage_tool_offset_array_end;
          break;
      }
    }
    
    //Load the used KWP modules
    var used_kwp_devices_start = engine_mileage_tool_end;
    for (i = 0; i < used_kwp_devices.length; i++) {
      used_kwp_devices[i] = file_buffer[used_kwp_devices_start + i];
    }
    
    //Load the used UDS modules
    var used_uds_devices_start = used_kwp_devices_start + used_kwp_devices.length;
    for (i = 0; i < used_uds_devices.length; i++) {
      used_uds_devices[i] = file_buffer[used_uds_devices_start + i];
    }
    
    //Clear the page array
    page_array = [];
    
    //Determine the total amount of pages
    var number_of_pages_start = used_uds_devices_start + used_uds_devices.length;
    var number_of_pages = file_buffer[number_of_pages_start];
    
    //Store the starting offset of each page
    var page_offsets_buffer_start = number_of_pages_start + 1;
    var page_offsets_buffer_end = page_offsets_buffer_start + 4 * number_of_pages;
    var page_offsets_buffer = file_buffer.slice(page_offsets_buffer_start, page_offsets_buffer_end);
    var page_offsets = new Uint32Array(page_offsets_buffer.buffer);
    
    //Will contain each page's position in the file
    var page_starting_offsets = [];
    
    //Navigate the list of pages
    for (var pg = 0; pg < number_of_pages; pg++) {      
      //Get the page title
      var title_length = get_string_length(file_buffer, page_offsets[pg], 15);
      var title_start = page_offsets[pg];
      var title_end = title_start + title_length;
      var title = decoder.decode(file_buffer.slice(title_start, title_end));
      
      //Page entry
      var page = {
        index: pg,
        title: title,
        parameters: []
      };
      
      //Add the page to the array
      page_array.push(page);
      
      //Get the number of parameters on this page
      var number_of_parameters_start = title_end + 1;
      var number_of_parameters = file_buffer[number_of_parameters_start];
      
      var parameter_offsets_buffer_start = number_of_parameters_start + 1;
      var parameter_offsets_buffer_end = parameter_offsets_buffer_start + 4 * number_of_parameters;
      var parameter_offsets_buffer = file_buffer.slice(parameter_offsets_buffer_start, parameter_offsets_buffer_end);
      var parameter_offsets = new Uint32Array(parameter_offsets_buffer.buffer);
      
      for (var par = 0; par < number_of_parameters; par++) {
        //Get the parameter name
        var name_start = parameter_offsets[par];
        var name_length = get_string_length(file_buffer, name_start, 15);
        var name_end = name_start + name_length;
        var name = decoder.decode(file_buffer.slice(name_start, name_end));
        
        //Get the measurement units
        var units_start = name_end + 1;
        var units_length = get_string_length(file_buffer, units_start, 15);
        var units_end = units_start + units_length;
        var units = decoder.decode(file_buffer.slice(units_start, units_end));
                
        //Parameter entry
        const parameter = {
          index: par,
          name: name,
          units: units,
          source: {},
          display: {},
          warning: {},
          graph: {}
        };
        
        //Add the parameter to the array
        page_array[pg].parameters.push(parameter);
        
        var protocol_start = units_end + 1;
        var protocol = file_buffer[protocol_start];
        
        var module_start = protocol_start + 1;
        var module = file_buffer[module_start];
        
        var source_end;
        switch (protocol) {
          case 0: //KWP
            var block_start = module_start + 1;
            var block = file_buffer[block_start];
            
            var index_start = block_start + 1;
            var index = file_buffer[index_start];
            
            page_array[pg].parameters[par].source = {
              protocol: protocol,
              module: module,
              block: block,
              index: index
            };
            
            source_end = index_start + 1;
            break;
          
          case 1: //UDS
            var identifier_array_start = module_start + 1;
            var identifier_array_end = identifier_array_start + 2;
            var identifier_array = file_buffer.slice(identifier_array_start, identifier_array_end);
            var identifier = (new Uint16Array(identifier_array.buffer))[0];
                        
            var endianness_start = identifier_array_end;
            var endianness = file_buffer[endianness_start];
            
            var size_start = endianness_start + 1;
            var size = file_buffer[size_start];
            
            var sign_start = size_start + 1;
            var sign = file_buffer[sign_start];
            
            var factor_array_start = sign_start + 1;
            var factor_array_end = factor_array_start + 2;
            var factor_array = file_buffer.slice(factor_array_start, factor_array_end);
            var factor = (new Uint16Array(factor_array.buffer))[0];
            
            var divisor_array_start = factor_array_end;
            var divisor_array_end = divisor_array_start + 2;
            var divisor_array = file_buffer.slice(divisor_array_start, divisor_array_end);
            var divisor = (new Uint16Array(divisor_array.buffer))[0];
            
            var offset_array_start = divisor_array_end;
            var offset_array_end = offset_array_start + 4;
            var offset_array = file_buffer.slice(offset_array_start, offset_array_end);
            var offset = (new Float32Array(offset_array.buffer))[0];
            offset = offset.toFixed(2);
            
            page_array[pg].parameters[par].source = {
              protocol: protocol,
              module: module,
              identifier: identifier,
              endianness: endianness,
              size: size,
              sign: sign,
              factor: factor,
              divisor: divisor,
              offset: offset
            };
            
            source_end = offset_array_end;
            break;
        }
        
        var display_mode_start = source_end;
        var display_mode = file_buffer[display_mode_start];
        
        var display_end;
        switch (display_mode) {
          case 0:
            var decimals_start = display_mode_start + 1;
            var decimals = file_buffer[decimals_start];
            
            var forced = ~~!!(decimals & (1 << 7));
            decimals &= ~(1 << 7);
            
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              forced: forced,
              decimals: decimals
            };
            
            display_end = decimals_start + 1;
            break;
          
          case 1:
            var offset_array_start = display_mode_start + 1;
            var offset_array_end = offset_array_start + 4;
            var offset_array = file_buffer.slice(offset_array_start, offset_array_end);
            var offset = (new Float32Array(offset_array.buffer))[0];
            offset = offset.toFixed(2);
            
            var in_min_array_start = offset_array_end;
            var in_min_array_end = in_min_array_start + 2;
            var in_min_array = file_buffer.slice(in_min_array_start, in_min_array_end);
            var in_min = (new Int16Array(in_min_array.buffer))[0];
            
            var in_max_array_start = in_min_array_end;
            var in_max_array_end = in_max_array_start + 2;
            var in_max_array = file_buffer.slice(in_max_array_start, in_max_array_end);
            var in_max = (new Int16Array(in_max_array.buffer))[0];
            
            var out_min_array_start = in_max_array_end;
            var out_min_array_end = out_min_array_start + 2;
            var out_min_array = file_buffer.slice(out_min_array_start, out_min_array_end);
            var out_min = (new Int16Array(out_min_array.buffer))[0];
            
            var out_max_array_start = out_min_array_end;
            var out_max_array_end = out_max_array_start + 2;
            var out_max_array = file_buffer.slice(out_max_array_start, out_max_array_end);
            var out_max = (new Int16Array(out_max_array.buffer))[0];
            
            var decimals_start = out_max_array_end;
            var decimals = file_buffer[decimals_start];
            
            var limit_min = ~~!!(decimals & (1 << 6));
            var limit_max = ~~!!(decimals & (1 << 7));
            decimals &= ~((1 << 6) | (1 << 7));
            
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              offset: offset,
              in_min: in_min,
              in_max: in_max,
              out_min: out_min,
              out_max: out_max,
              limit_min: limit_min,
              limit_max: limit_max,
              decimals: decimals
            };
            
            display_end = decimals_start + 1;
            break;
          
          case 2:
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              condition: {}
            };
            
            var condition_type_start = display_mode_start + 1;
            var condition_type = file_buffer[condition_type_start];
            
            var condition_end;
            switch (condition_type) {
              case 0:
                var value_array_start = condition_type_start + 1;
                var value_array_end = value_array_start + 2;
                var value_array = file_buffer.slice(value_array_start, value_array_end);
                var value = (new Int16Array(value_array.buffer))[0];
                
                var if_value_start = value_array_end;
                var if_value_length = get_string_length(file_buffer, if_value_start, 15);
                var if_value_end = if_value_start + if_value_length;
                var if_value = decoder.decode(file_buffer.slice(if_value_start, if_value_end));
                
                var if_not_value_start = if_value_end + 1;
                var if_not_value_length = get_string_length(file_buffer, if_not_value_start, 15);
                var if_not_value_end = if_not_value_start + if_not_value_length;
                var if_not_value = decoder.decode(file_buffer.slice(if_not_value_start, if_not_value_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  value: value,
                  if_value: if_value,
                  if_not_value: if_not_value
                };
                
                condition_end = if_not_value_end + 1;
                break;
              
              case 1:
                var range_min_array_start = condition_type_start + 1;
                var range_min_array_end = range_min_array_start + 2;
                var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
                var range_min = (new Int16Array(range_min_array.buffer))[0];
                
                var range_max_array_start = range_min_array_end;
                var range_max_array_end = range_max_array_start + 2;
                var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
                var range_max = (new Int16Array(range_max_array.buffer))[0];
                
                var inside_range_start = range_max_array_end;
                var inside_range_length = get_string_length(file_buffer, inside_range_start, 15);
                var inside_range_end = inside_range_start + inside_range_length;
                var inside_range = decoder.decode(file_buffer.slice(inside_range_start, inside_range_end));
                
                var outside_range_start = inside_range_end + 1;
                var outside_range_length = get_string_length(file_buffer, outside_range_start, 15);
                var outside_range_end = outside_range_start + outside_range_length;
                var outside_range = decoder.decode(file_buffer.slice(outside_range_start, outside_range_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  range_min: range_min,
                  range_max: range_max,
                  inside_range: inside_range,
                  outside_range: outside_range
                };
                
                condition_end = outside_range_end + 1;
                break;
              
              case 2:
                var range_min_array_start = condition_type_start + 1;
                var range_min_array_end = range_min_array_start + 2;
                var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
                var range_min = (new Int16Array(range_min_array.buffer))[0];
                
                var range_max_array_start = range_min_array_end;
                var range_max_array_end = range_max_array_start + 2;
                var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
                var range_max = (new Int16Array(range_max_array.buffer))[0];
                
                var below_range_start = range_max_array_end;
                var below_range_length = get_string_length(file_buffer, below_range_start, 15);
                var below_range_end = below_range_start + below_range_length;
                var below_range = decoder.decode(file_buffer.slice(below_range_start, below_range_end));
                
                var inside_range_start = below_range_end + 1;
                var inside_range_length = get_string_length(file_buffer, inside_range_start, 15);
                var inside_range_end = inside_range_start + inside_range_length;
                var inside_range = decoder.decode(file_buffer.slice(inside_range_start, inside_range_end));
                
                var above_range_start = inside_range_end + 1;
                var above_range_length = get_string_length(file_buffer, above_range_start, 15);
                var above_range_end = above_range_start + above_range_length;
                var above_range = decoder.decode(file_buffer.slice(above_range_start, above_range_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  range_min: range_min,
                  range_max: range_max,
                  below_range: below_range,
                  inside_range: inside_range,
                  above_range: above_range
                };
                
                condition_end = above_range_end + 1;
                break;
            }
            
            display_end = condition_end;
            break;
        }
        
        var warning_mode_start = display_end;
        var warning_mode = file_buffer[warning_mode_start];
        
        var warning_end;
        switch (warning_mode) {
          case 0:
            page_array[pg].parameters[par].warning = {
              mode: warning_mode
            }
            
            warning_end = warning_mode_start + 1;
            break;
          
          case 1:
          case 2:
            var value_array_start = warning_mode_start + 1;
            var value_array_end = value_array_start + 2;
            var value_array = file_buffer.slice(value_array_start, value_array_end);
            var value = (new Int16Array(value_array.buffer))[0];
            
            page_array[pg].parameters[par].warning = {
              mode: warning_mode,
              value: value
            }
            
            warning_end = value_array_end;
            break;
          
          case 3:
          case 4:
            var range_min_array_start = warning_mode_start + 1;
            var range_min_array_end = range_min_array_start + 2;
            var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
            var range_min = (new Int16Array(range_min_array.buffer))[0];
            
            var range_max_array_start = range_min_array_end;
            var range_max_array_end = range_max_array_start + 2;
            var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
            var range_max = (new Int16Array(range_max_array.buffer))[0];
            
            page_array[pg].parameters[par].warning = {
              mode: warning_mode,
              range_min: range_min,
              range_max: range_max
            }
            
            warning_end = range_max_array_end;
            break;
        }
        
        var graph_top_array_start = warning_end;
        var graph_top_array_end = graph_top_array_start + 4;
        var graph_top_array = file_buffer.slice(graph_top_array_start, graph_top_array_end);
        var graph_top = (new Float32Array(graph_top_array.buffer))[0];
        graph_top = graph_top.toFixed(2);
        
        var graph_bottom_array_start = graph_top_array_end;
        var graph_bottom_array_end = graph_bottom_array_start + 4;
        var graph_bottom_array = file_buffer.slice(graph_bottom_array_start, graph_bottom_array_end);
        var graph_bottom = (new Float32Array(graph_bottom_array.buffer))[0];
        graph_bottom = graph_bottom.toFixed(2);
            
        var graph_rate_array_start = graph_bottom_array_end;
        var graph_rate_array_end = graph_rate_array_start + 2;
        var graph_rate_array = file_buffer.slice(graph_rate_array_start, graph_rate_array_end);
        var graph_rate = (new Int16Array(graph_rate_array.buffer))[0];
        
        page_array[pg].parameters[par].graph = {
          top: graph_top,
          bottom: graph_bottom,
          rate: graph_rate
        }
      }
    }
    
    alert(S_config_read_success);
    old_configuration_loaded = true;
  }
  
  function parse_2_0_0_config(file_buffer) {
    var decoder = new TextDecoder('iso-8859-2');
    
    //Check if the acceleration timer tool is enabled
    var acceleration_timer_tool_start = 2;
    acceleration_timer_tool.enabled = file_buffer[acceleration_timer_tool_start];
    
    var acceleration_timer_tool_end = acceleration_timer_tool_start + 1;
    if (acceleration_timer_tool.enabled) {
      var acceleration_timer_tool_protocol_start = acceleration_timer_tool_end;
      acceleration_timer_tool.protocol = file_buffer[acceleration_timer_tool_protocol_start];
      
      var acceleration_timer_tool_module_start = acceleration_timer_tool_protocol_start + 1;
      acceleration_timer_tool.module = file_buffer[acceleration_timer_tool_module_start];
      
      switch (acceleration_timer_tool.protocol) {
        case 0:
          var acceleration_timer_tool_block_start = acceleration_timer_tool_module_start + 1;
          acceleration_timer_tool.block = file_buffer[acceleration_timer_tool_block_start];
          
          var acceleration_timer_tool_index_start = acceleration_timer_tool_block_start + 1;
          acceleration_timer_tool.index = file_buffer[acceleration_timer_tool_index_start];
          
          acceleration_timer_tool_end = acceleration_timer_tool_index_start + 1;
          break;
        
        case 1:
          var acceleration_timer_tool_identifier_array_start = acceleration_timer_tool_module_start + 1;
          var acceleration_timer_tool_identifier_array_end = acceleration_timer_tool_identifier_array_start + 2;
          var acceleration_timer_tool_identifier_array = file_buffer.slice(acceleration_timer_tool_identifier_array_start, acceleration_timer_tool_identifier_array_end);
          var acceleration_timer_tool_identifier = (new Uint16Array(acceleration_timer_tool_identifier_array.buffer))[0];
          acceleration_timer_tool.identifier = acceleration_timer_tool_identifier;
                      
          var acceleration_timer_tool_endianness_start = acceleration_timer_tool_identifier_array_end;
          var acceleration_timer_tool_endianness = file_buffer[acceleration_timer_tool_endianness_start];
          acceleration_timer_tool.endianness = acceleration_timer_tool_endianness;
          
          var acceleration_timer_tool_size_start = acceleration_timer_tool_endianness_start + 1;
          var acceleration_timer_tool_size = file_buffer[acceleration_timer_tool_size_start];
          acceleration_timer_tool.size = acceleration_timer_tool_size;
          
          var acceleration_timer_tool_sign_start = acceleration_timer_tool_size_start + 1;
          var acceleration_timer_tool_sign = file_buffer[acceleration_timer_tool_sign_start];
          acceleration_timer_tool.sign = acceleration_timer_tool_sign;
          
          var acceleration_timer_tool_factor_array_start = acceleration_timer_tool_sign_start + 1;
          var acceleration_timer_tool_factor_array_end = acceleration_timer_tool_factor_array_start + 2;
          var acceleration_timer_tool_factor_array = file_buffer.slice(acceleration_timer_tool_factor_array_start, acceleration_timer_tool_factor_array_end);
          var acceleration_timer_tool_factor = (new Uint16Array(acceleration_timer_tool_factor_array.buffer))[0];
          acceleration_timer_tool.factor = acceleration_timer_tool_factor;
          
          var acceleration_timer_tool_divisor_array_start = acceleration_timer_tool_factor_array_end;
          var acceleration_timer_tool_divisor_array_end = acceleration_timer_tool_divisor_array_start + 2;
          var acceleration_timer_tool_divisor_array = file_buffer.slice(acceleration_timer_tool_divisor_array_start, acceleration_timer_tool_divisor_array_end);
          var acceleration_timer_tool_divisor = (new Uint16Array(acceleration_timer_tool_divisor_array.buffer))[0];
          acceleration_timer_tool.divisor = acceleration_timer_tool_divisor;
          
          var acceleration_timer_tool_offset_array_start = acceleration_timer_tool_divisor_array_end;
          var acceleration_timer_tool_offset_array_end = acceleration_timer_tool_offset_array_start + 4;
          var acceleration_timer_tool_offset_array = file_buffer.slice(acceleration_timer_tool_offset_array_start, acceleration_timer_tool_offset_array_end);
          var acceleration_timer_tool_offset = (new Float32Array(acceleration_timer_tool_offset_array.buffer))[0];
          acceleration_timer_tool_offset = acceleration_timer_tool_offset.toFixed(2);
          acceleration_timer_tool.offset = acceleration_timer_tool_offset;
          
          acceleration_timer_tool_end = acceleration_timer_tool_offset_array_end;
          break;
      }
    }
    
    //Check if the oil level checker tool is enabled
    var oil_level_checker_tool_start = acceleration_timer_tool_end;
    oil_level_checker_tool.enabled = file_buffer[oil_level_checker_tool_start];
    
    var oil_level_checker_tool_end = oil_level_checker_tool_start + 1;
    if (oil_level_checker_tool.enabled) {
      var oil_level_checker_tool_min_array_start = oil_level_checker_tool_end;
      var oil_level_checker_tool_min_array_end = oil_level_checker_tool_min_array_start + 4;
      var oil_level_checker_tool_min_array = file_buffer.slice(oil_level_checker_tool_min_array_start, oil_level_checker_tool_min_array_end);
      var oil_level_checker_tool_min = (new Float32Array(oil_level_checker_tool_min_array.buffer))[0];
      oil_level_checker_tool_min = oil_level_checker_tool_min.toFixed(2);
      oil_level_checker_tool.min = oil_level_checker_tool_min;
      
      var oil_level_checker_tool_max_array_start = oil_level_checker_tool_min_array_end;
      var oil_level_checker_tool_max_array_end = oil_level_checker_tool_max_array_start + 4;
      var oil_level_checker_tool_max_array = file_buffer.slice(oil_level_checker_tool_max_array_start, oil_level_checker_tool_max_array_end);
      var oil_level_checker_tool_max = (new Float32Array(oil_level_checker_tool_max_array.buffer))[0];
      oil_level_checker_tool_max = oil_level_checker_tool_max.toFixed(2);
      oil_level_checker_tool.max = oil_level_checker_tool_max;
      
      var oil_level_checker_tool_protocol_start = oil_level_checker_tool_max_array_end;
      oil_level_checker_tool.protocol = file_buffer[oil_level_checker_tool_protocol_start];
      
      var oil_level_checker_tool_module_start = oil_level_checker_tool_protocol_start + 1;
      oil_level_checker_tool.module = file_buffer[oil_level_checker_tool_module_start];
      
      switch (oil_level_checker_tool.protocol) {
        case 0:
          //Oil level
          var oil_level_checker_tool_block_start = oil_level_checker_tool_module_start + 1;
          oil_level_checker_tool.block = file_buffer[oil_level_checker_tool_block_start];
          
          var oil_level_checker_tool_index_start = oil_level_checker_tool_block_start + 1;
          oil_level_checker_tool.index = file_buffer[oil_level_checker_tool_index_start];
          
          //Oil temp
          var oil_level_checker_tool_block_temp_start = oil_level_checker_tool_index_start + 1;
          oil_level_checker_tool.block_temp = file_buffer[oil_level_checker_tool_block_temp_start];
          
          var oil_level_checker_tool_index_temp_start = oil_level_checker_tool_block_temp_start + 1;
          oil_level_checker_tool.index_temp = file_buffer[oil_level_checker_tool_index_temp_start];
          
          oil_level_checker_tool_end = oil_level_checker_tool_index_temp_start + 1;
          break;
        
        case 1:
          //Oil level
          var oil_level_checker_tool_identifier_array_start = oil_level_checker_tool_module_start + 1;
          var oil_level_checker_tool_identifier_array_end = oil_level_checker_tool_identifier_array_start + 2;
          var oil_level_checker_tool_identifier_array = file_buffer.slice(oil_level_checker_tool_identifier_array_start, oil_level_checker_tool_identifier_array_end);
          var oil_level_checker_tool_identifier = (new Uint16Array(oil_level_checker_tool_identifier_array.buffer))[0];
          oil_level_checker_tool.identifier = oil_level_checker_tool_identifier;
                      
          var oil_level_checker_tool_endianness_start = oil_level_checker_tool_identifier_array_end;
          var oil_level_checker_tool_endianness = file_buffer[oil_level_checker_tool_endianness_start];
          oil_level_checker_tool.endianness = oil_level_checker_tool_endianness;
          
          var oil_level_checker_tool_size_start = oil_level_checker_tool_endianness_start + 1;
          var oil_level_checker_tool_size = file_buffer[oil_level_checker_tool_size_start];
          oil_level_checker_tool.size = oil_level_checker_tool_size;
          
          var oil_level_checker_tool_sign_start = oil_level_checker_tool_size_start + 1;
          var oil_level_checker_tool_sign = file_buffer[oil_level_checker_tool_sign_start];
          oil_level_checker_tool.sign = oil_level_checker_tool_sign;
          
          var oil_level_checker_tool_factor_array_start = oil_level_checker_tool_sign_start + 1;
          var oil_level_checker_tool_factor_array_end = oil_level_checker_tool_factor_array_start + 2;
          var oil_level_checker_tool_factor_array = file_buffer.slice(oil_level_checker_tool_factor_array_start, oil_level_checker_tool_factor_array_end);
          var oil_level_checker_tool_factor = (new Uint16Array(oil_level_checker_tool_factor_array.buffer))[0];
          oil_level_checker_tool.factor = oil_level_checker_tool_factor;
          
          var oil_level_checker_tool_divisor_array_start = oil_level_checker_tool_factor_array_end;
          var oil_level_checker_tool_divisor_array_end = oil_level_checker_tool_divisor_array_start + 2;
          var oil_level_checker_tool_divisor_array = file_buffer.slice(oil_level_checker_tool_divisor_array_start, oil_level_checker_tool_divisor_array_end);
          var oil_level_checker_tool_divisor = (new Uint16Array(oil_level_checker_tool_divisor_array.buffer))[0];
          oil_level_checker_tool.divisor = oil_level_checker_tool_divisor;
          
          var oil_level_checker_tool_offset_array_start = oil_level_checker_tool_divisor_array_end;
          var oil_level_checker_tool_offset_array_end = oil_level_checker_tool_offset_array_start + 4;
          var oil_level_checker_tool_offset_array = file_buffer.slice(oil_level_checker_tool_offset_array_start, oil_level_checker_tool_offset_array_end);
          var oil_level_checker_tool_offset = (new Float32Array(oil_level_checker_tool_offset_array.buffer))[0];
          oil_level_checker_tool_offset = oil_level_checker_tool_offset.toFixed(2);
          oil_level_checker_tool.offset = oil_level_checker_tool_offset;
          
          //Oil temp
          var oil_level_checker_tool_identifier_temp_array_start = oil_level_checker_tool_offset_array_end;
          var oil_level_checker_tool_identifier_temp_array_end = oil_level_checker_tool_identifier_temp_array_start + 2;
          var oil_level_checker_tool_identifier_temp_array = file_buffer.slice(oil_level_checker_tool_identifier_temp_array_start, oil_level_checker_tool_identifier_temp_array_end);
          var oil_level_checker_tool_identifier_temp = (new Uint16Array(oil_level_checker_tool_identifier_temp_array.buffer))[0];
          oil_level_checker_tool.identifier_temp = oil_level_checker_tool_identifier_temp;
                      
          var oil_level_checker_tool_endianness_temp_start = oil_level_checker_tool_identifier_temp_array_end;
          var oil_level_checker_tool_endianness_temp = file_buffer[oil_level_checker_tool_endianness_temp_start];
          oil_level_checker_tool.endianness_temp = oil_level_checker_tool_endianness_temp;
          
          var oil_level_checker_tool_size_temp_start = oil_level_checker_tool_endianness_temp_start + 1;
          var oil_level_checker_tool_size_temp = file_buffer[oil_level_checker_tool_size_temp_start];
          oil_level_checker_tool.size_temp = oil_level_checker_tool_size_temp;
          
          var oil_level_checker_tool_sign_temp_start = oil_level_checker_tool_size_temp_start + 1;
          var oil_level_checker_tool_sign_temp = file_buffer[oil_level_checker_tool_sign_temp_start];
          oil_level_checker_tool.sign_temp = oil_level_checker_tool_sign_temp;
          
          var oil_level_checker_tool_factor_temp_array_start = oil_level_checker_tool_sign_temp_start + 1;
          var oil_level_checker_tool_factor_temp_array_end = oil_level_checker_tool_factor_temp_array_start + 2;
          var oil_level_checker_tool_factor_temp_array = file_buffer.slice(oil_level_checker_tool_factor_temp_array_start, oil_level_checker_tool_factor_temp_array_end);
          var oil_level_checker_tool_factor_temp = (new Uint16Array(oil_level_checker_tool_factor_temp_array.buffer))[0];
          oil_level_checker_tool.factor_temp = oil_level_checker_tool_factor_temp;
          
          var oil_level_checker_tool_divisor_temp_array_start = oil_level_checker_tool_factor_temp_array_end;
          var oil_level_checker_tool_divisor_temp_array_end = oil_level_checker_tool_divisor_temp_array_start + 2;
          var oil_level_checker_tool_divisor_temp_array = file_buffer.slice(oil_level_checker_tool_divisor_temp_array_start, oil_level_checker_tool_divisor_temp_array_end);
          var oil_level_checker_tool_divisor_temp = (new Uint16Array(oil_level_checker_tool_divisor_temp_array.buffer))[0];
          oil_level_checker_tool.divisor_temp = oil_level_checker_tool_divisor_temp;
          
          var oil_level_checker_tool_offset_temp_array_start = oil_level_checker_tool_divisor_temp_array_end;
          var oil_level_checker_tool_offset_temp_array_end = oil_level_checker_tool_offset_temp_array_start + 4;
          var oil_level_checker_tool_offset_temp_array = file_buffer.slice(oil_level_checker_tool_offset_temp_array_start, oil_level_checker_tool_offset_temp_array_end);
          var oil_level_checker_tool_offset_temp = (new Float32Array(oil_level_checker_tool_offset_temp_array.buffer))[0];
          oil_level_checker_tool_offset_temp = oil_level_checker_tool_offset_temp.toFixed(2);
          oil_level_checker_tool.offset_temp = oil_level_checker_tool_offset_temp;
          
          oil_level_checker_tool_end = oil_level_checker_tool_offset_temp_array_end;
          break;
      }
    }
    
    //Load the used KWP modules
    var used_kwp_devices_start = oil_level_checker_tool_end;
    for (i = 0; i < used_kwp_devices.length; i++) {
      used_kwp_devices[i] = file_buffer[used_kwp_devices_start + i];
    }
    
    //Load the used UDS modules
    var used_uds_devices_start = used_kwp_devices_start + used_kwp_devices.length;
    for (i = 0; i < used_uds_devices.length; i++) {
      used_uds_devices[i] = file_buffer[used_uds_devices_start + i];
    }
    
    //Clear the page array
    page_array = [];
    
    //Determine the total amount of pages
    var number_of_pages_start = used_uds_devices_start + used_uds_devices.length;
    var number_of_pages = file_buffer[number_of_pages_start];
    
    //Store the starting offset of each page
    var page_offsets_buffer_start = number_of_pages_start + 1;
    var page_offsets_buffer_end = page_offsets_buffer_start + 4 * number_of_pages;
    var page_offsets_buffer = file_buffer.slice(page_offsets_buffer_start, page_offsets_buffer_end);
    var page_offsets = new Uint32Array(page_offsets_buffer.buffer);
    
    //Will contain each page's position in the file
    var page_starting_offsets = [];
    
    //Navigate the list of pages
    for (var pg = 0; pg < number_of_pages; pg++) {      
      //Get the page title
      var title_length = get_string_length(file_buffer, page_offsets[pg], 15);
      var title_start = page_offsets[pg];
      var title_end = title_start + title_length;
      var title = decoder.decode(file_buffer.slice(title_start, title_end));
      
      //Page entry
      var page = {
        index: pg,
        title: title,
        parameters: []
      };
      
      //Add the page to the array
      page_array.push(page);
      
      //Get the number of parameters on this page
      var number_of_parameters_start = title_end + 1;
      var number_of_parameters = file_buffer[number_of_parameters_start];
      
      var parameter_offsets_buffer_start = number_of_parameters_start + 1;
      var parameter_offsets_buffer_end = parameter_offsets_buffer_start + 4 * number_of_parameters;
      var parameter_offsets_buffer = file_buffer.slice(parameter_offsets_buffer_start, parameter_offsets_buffer_end);
      var parameter_offsets = new Uint32Array(parameter_offsets_buffer.buffer);
      
      for (var par = 0; par < number_of_parameters; par++) {
        //Get the parameter name
        var name_start = parameter_offsets[par];
        var name_length = get_string_length(file_buffer, name_start, 15);
        var name_end = name_start + name_length;
        var name = decoder.decode(file_buffer.slice(name_start, name_end));
        
        //Get the measurement units
        var units_start = name_end + 1;
        var units_length = get_string_length(file_buffer, units_start, 15);
        var units_end = units_start + units_length;
        var units = decoder.decode(file_buffer.slice(units_start, units_end));
                
        //Parameter entry
        const parameter = {
          index: par,
          name: name,
          units: units,
          source: {},
          display: {},
          warning: {},
          graph: {}
        };
        
        //Add the parameter to the array
        page_array[pg].parameters.push(parameter);
        
        var protocol_start = units_end + 1;
        var protocol = file_buffer[protocol_start];
        
        var module_start = protocol_start + 1;
        var module = file_buffer[module_start];
        
        var source_end;
        switch (protocol) {
          case 0: //KWP
            var block_start = module_start + 1;
            var block = file_buffer[block_start];
            
            var index_start = block_start + 1;
            var index = file_buffer[index_start];
            
            page_array[pg].parameters[par].source = {
              protocol: protocol,
              module: module,
              block: block,
              index: index
            };
            
            source_end = index_start + 1;
            break;
          
          case 1: //UDS
            var identifier_array_start = module_start + 1;
            var identifier_array_end = identifier_array_start + 2;
            var identifier_array = file_buffer.slice(identifier_array_start, identifier_array_end);
            var identifier = (new Uint16Array(identifier_array.buffer))[0];
                        
            var endianness_start = identifier_array_end;
            var endianness = file_buffer[endianness_start];
            
            var size_start = endianness_start + 1;
            var size = file_buffer[size_start];
            
            var sign_start = size_start + 1;
            var sign = file_buffer[sign_start];
            
            var factor_array_start = sign_start + 1;
            var factor_array_end = factor_array_start + 2;
            var factor_array = file_buffer.slice(factor_array_start, factor_array_end);
            var factor = (new Uint16Array(factor_array.buffer))[0];
            
            var divisor_array_start = factor_array_end;
            var divisor_array_end = divisor_array_start + 2;
            var divisor_array = file_buffer.slice(divisor_array_start, divisor_array_end);
            var divisor = (new Uint16Array(divisor_array.buffer))[0];
            
            var offset_array_start = divisor_array_end;
            var offset_array_end = offset_array_start + 4;
            var offset_array = file_buffer.slice(offset_array_start, offset_array_end);
            var offset = (new Float32Array(offset_array.buffer))[0];
            offset = offset.toFixed(2);
            
            page_array[pg].parameters[par].source = {
              protocol: protocol,
              module: module,
              identifier: identifier,
              endianness: endianness,
              size: size,
              sign: sign,
              factor: factor,
              divisor: divisor,
              offset: offset
            };
            
            source_end = offset_array_end;
            break;
        }
        
        var display_mode_start = source_end;
        var display_mode = file_buffer[display_mode_start];
        
        var display_end;
        switch (display_mode) {
          case 0:
            var decimals_start = display_mode_start + 1;
            var decimals = file_buffer[decimals_start];
            
            var forced = ~~!!(decimals & (1 << 7));
            decimals &= ~(1 << 7);
            
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              forced: forced,
              decimals: decimals
            };
            
            display_end = decimals_start + 1;
            break;
          
          case 1:
            var offset_array_start = display_mode_start + 1;
            var offset_array_end = offset_array_start + 4;
            var offset_array = file_buffer.slice(offset_array_start, offset_array_end);
            var offset = (new Float32Array(offset_array.buffer))[0];
            offset = offset.toFixed(2);
            
            var in_min_array_start = offset_array_end;
            var in_min_array_end = in_min_array_start + 2;
            var in_min_array = file_buffer.slice(in_min_array_start, in_min_array_end);
            var in_min = (new Int16Array(in_min_array.buffer))[0];
            
            var in_max_array_start = in_min_array_end;
            var in_max_array_end = in_max_array_start + 2;
            var in_max_array = file_buffer.slice(in_max_array_start, in_max_array_end);
            var in_max = (new Int16Array(in_max_array.buffer))[0];
            
            var out_min_array_start = in_max_array_end;
            var out_min_array_end = out_min_array_start + 2;
            var out_min_array = file_buffer.slice(out_min_array_start, out_min_array_end);
            var out_min = (new Int16Array(out_min_array.buffer))[0];
            
            var out_max_array_start = out_min_array_end;
            var out_max_array_end = out_max_array_start + 2;
            var out_max_array = file_buffer.slice(out_max_array_start, out_max_array_end);
            var out_max = (new Int16Array(out_max_array.buffer))[0];
            
            var decimals_start = out_max_array_end;
            var decimals = file_buffer[decimals_start];
            
            var limit_min = ~~!!(decimals & (1 << 6));
            var limit_max = ~~!!(decimals & (1 << 7));
            decimals &= ~((1 << 6) | (1 << 7));
            
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              offset: offset,
              in_min: in_min,
              in_max: in_max,
              out_min: out_min,
              out_max: out_max,
              limit_min: limit_min,
              limit_max: limit_max,
              decimals: decimals
            };
            
            display_end = decimals_start + 1;
            break;
          
          case 2:
            page_array[pg].parameters[par].display = {
              mode: display_mode,
              condition: {}
            };
            
            var condition_type_start = display_mode_start + 1;
            var condition_type = file_buffer[condition_type_start];
            
            var condition_end;
            switch (condition_type) {
              case 0:
                var value_array_start = condition_type_start + 1;
                var value_array_end = value_array_start + 2;
                var value_array = file_buffer.slice(value_array_start, value_array_end);
                var value = (new Int16Array(value_array.buffer))[0];
                
                var if_value_start = value_array_end;
                var if_value_length = get_string_length(file_buffer, if_value_start, 15);
                var if_value_end = if_value_start + if_value_length;
                var if_value = decoder.decode(file_buffer.slice(if_value_start, if_value_end));
                
                var if_not_value_start = if_value_end + 1;
                var if_not_value_length = get_string_length(file_buffer, if_not_value_start, 15);
                var if_not_value_end = if_not_value_start + if_not_value_length;
                var if_not_value = decoder.decode(file_buffer.slice(if_not_value_start, if_not_value_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  value: value,
                  if_value: if_value,
                  if_not_value: if_not_value
                };
                
                condition_end = if_not_value_end + 1;
                break;
              
              case 1:
                var range_min_array_start = condition_type_start + 1;
                var range_min_array_end = range_min_array_start + 2;
                var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
                var range_min = (new Int16Array(range_min_array.buffer))[0];
                
                var range_max_array_start = range_min_array_end;
                var range_max_array_end = range_max_array_start + 2;
                var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
                var range_max = (new Int16Array(range_max_array.buffer))[0];
                
                var inside_range_start = range_max_array_end;
                var inside_range_length = get_string_length(file_buffer, inside_range_start, 15);
                var inside_range_end = inside_range_start + inside_range_length;
                var inside_range = decoder.decode(file_buffer.slice(inside_range_start, inside_range_end));
                
                var outside_range_start = inside_range_end + 1;
                var outside_range_length = get_string_length(file_buffer, outside_range_start, 15);
                var outside_range_end = outside_range_start + outside_range_length;
                var outside_range = decoder.decode(file_buffer.slice(outside_range_start, outside_range_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  range_min: range_min,
                  range_max: range_max,
                  inside_range: inside_range,
                  outside_range: outside_range
                };
                
                condition_end = outside_range_end + 1;
                break;
              
              case 2:
                var range_min_array_start = condition_type_start + 1;
                var range_min_array_end = range_min_array_start + 2;
                var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
                var range_min = (new Int16Array(range_min_array.buffer))[0];
                
                var range_max_array_start = range_min_array_end;
                var range_max_array_end = range_max_array_start + 2;
                var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
                var range_max = (new Int16Array(range_max_array.buffer))[0];
                
                var below_range_start = range_max_array_end;
                var below_range_length = get_string_length(file_buffer, below_range_start, 15);
                var below_range_end = below_range_start + below_range_length;
                var below_range = decoder.decode(file_buffer.slice(below_range_start, below_range_end));
                
                var inside_range_start = below_range_end + 1;
                var inside_range_length = get_string_length(file_buffer, inside_range_start, 15);
                var inside_range_end = inside_range_start + inside_range_length;
                var inside_range = decoder.decode(file_buffer.slice(inside_range_start, inside_range_end));
                
                var above_range_start = inside_range_end + 1;
                var above_range_length = get_string_length(file_buffer, above_range_start, 15);
                var above_range_end = above_range_start + above_range_length;
                var above_range = decoder.decode(file_buffer.slice(above_range_start, above_range_end));
                
                page_array[pg].parameters[par].display.condition = {
                  type: condition_type,
                  range_min: range_min,
                  range_max: range_max,
                  below_range: below_range,
                  inside_range: inside_range,
                  above_range: above_range
                };
                
                condition_end = above_range_end + 1;
                break;
            }
            
            display_end = condition_end;
            break;
        }
        
        var warning_mode_start = display_end;
        var warning_mode = file_buffer[warning_mode_start];
        
        var warning_end;
        switch (warning_mode) {
          case 0:
            page_array[pg].parameters[par].warning = {
              mode: warning_mode
            }
            
            warning_end = warning_mode_start + 1;
            break;
          
          case 1:
          case 2:
            var value_array_start = warning_mode_start + 1;
            var value_array_end = value_array_start + 2;
            var value_array = file_buffer.slice(value_array_start, value_array_end);
            var value = (new Int16Array(value_array.buffer))[0];
            
            page_array[pg].parameters[par].warning = {
              mode: warning_mode,
              value: value
            }
            
            warning_end = value_array_end;
            break;
          
          case 3:
          case 4:
            var range_min_array_start = warning_mode_start + 1;
            var range_min_array_end = range_min_array_start + 2;
            var range_min_array = file_buffer.slice(range_min_array_start, range_min_array_end);
            var range_min = (new Int16Array(range_min_array.buffer))[0];
            
            var range_max_array_start = range_min_array_end;
            var range_max_array_end = range_max_array_start + 2;
            var range_max_array = file_buffer.slice(range_max_array_start, range_max_array_end);
            var range_max = (new Int16Array(range_max_array.buffer))[0];
            
            page_array[pg].parameters[par].warning = {
              mode: warning_mode,
              range_min: range_min,
              range_max: range_max
            }
            
            warning_end = range_max_array_end;
            break;
        }
        
        var graph_top_array_start = warning_end;
        var graph_top_array_end = graph_top_array_start + 4;
        var graph_top_array = file_buffer.slice(graph_top_array_start, graph_top_array_end);
        var graph_top = (new Float32Array(graph_top_array.buffer))[0];
        graph_top = graph_top.toFixed(2);
        
        var graph_bottom_array_start = graph_top_array_end;
        var graph_bottom_array_end = graph_bottom_array_start + 4;
        var graph_bottom_array = file_buffer.slice(graph_bottom_array_start, graph_bottom_array_end);
        var graph_bottom = (new Float32Array(graph_bottom_array.buffer))[0];
        graph_bottom = graph_bottom.toFixed(2);
            
        var graph_rate_array_start = graph_bottom_array_end;
        var graph_rate_array_end = graph_rate_array_start + 2;
        var graph_rate_array = file_buffer.slice(graph_rate_array_start, graph_rate_array_end);
        var graph_rate = (new Int16Array(graph_rate_array.buffer))[0];
        
        page_array[pg].parameters[par].graph = {
          top: graph_top,
          bottom: graph_bottom,
          rate: graph_rate
        }
      }
    }
    
    alert(S_config_read_success);
    old_configuration_loaded = true;
  }
  
  function get_string_length(file_buffer, starting_offset, max_length) {
    var character_position = 0;
    while (true) {
      if (!file_buffer[starting_offset + character_position]) {
        break;
      }
      character_position++;
      
      if (character_position > max_length) {
        return -1;
      }
    }
    return character_position;
  }
  
  function download_file() {
    if (!old_configuration_loaded) {
      alert(S_load_old_first);
      return;
    }
    
    var select_version_to_convert_to = document.getElementById('select_version_to_convert_to');
    switch (select_version_to_convert_to.selectedIndex) {
      case 0:
        convert_to_version_0300();
        break;
        
      case 1:
        convert_to_version_0200();
        break;
      
      default:
        alert(S_select_target);
        break;
    }
  }
  
  function convert_to_version_0300() {
    var file_buffer = [0x55, 0xAA, 0x00, 0x03];
    
    var global_settings = 0;
    file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint32Array([global_settings])).buffer)));
        
    var wifi_pass = "";
    file_buffer = file_buffer.concat(Array.from(encode8859(wifi_pass)), 0);
    
    file_buffer = file_buffer.concat(acceleration_timer_tool.enabled); //acceleration tool enable status
    if (acceleration_timer_tool.enabled) {
      if (!acceleration_timer_tool.module) {
        alert(S_conversion_error + " (1)");
        return;
      }
      
      file_buffer = file_buffer.concat(acceleration_timer_tool.protocol); //speed protocol
      file_buffer = file_buffer.concat(acceleration_timer_tool.module); //speed module
      switch (acceleration_timer_tool.protocol) {
        case 0:
          file_buffer = file_buffer.concat(acceleration_timer_tool.block); //speed block
          file_buffer = file_buffer.concat(acceleration_timer_tool.index); //speed block index
          break;
        
        case 1:
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.identifier])).buffer))); //speed identifier
          file_buffer = file_buffer.concat(acceleration_timer_tool.endianness); //speed endianness
          file_buffer = file_buffer.concat(acceleration_timer_tool.size); //speed byte size
          file_buffer = file_buffer.concat(acceleration_timer_tool.sign); //speed sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.factor])).buffer))); //speed factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.divisor])).buffer))); //speed divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([acceleration_timer_tool.offset])).buffer))); //speed offset
          break;
      }
    }
    
    file_buffer = file_buffer.concat(oil_level_checker_tool.enabled); //oil level tool enable status
    if (oil_level_checker_tool.enabled) {
      if (!oil_level_checker_tool.module) {
        alert(S_conversion_error + " (2)");
        return;
      }
      
      if (oil_level_checker_tool.min > oil_level_checker_tool.max)
      {
        var x = oil_level_checker_tool.max;
        oil_level_checker_tool.max = oil_level_checker_tool.min;
        oil_level_checker_tool.min = x;
      }
      
      file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.min])).buffer))); //oil level min
      file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.max])).buffer))); //oil level max
      
      file_buffer = file_buffer.concat(oil_level_checker_tool.protocol); //oil level/temp protocol
      file_buffer = file_buffer.concat(oil_level_checker_tool.module); //oil level/temp module
      switch (oil_level_checker_tool.protocol) {
        case 0:
          file_buffer = file_buffer.concat(oil_level_checker_tool.block); //oil level block
          file_buffer = file_buffer.concat(oil_level_checker_tool.index); //oil level block index
          file_buffer = file_buffer.concat(oil_level_checker_tool.block_temp); //oil temp block
          file_buffer = file_buffer.concat(oil_level_checker_tool.index_temp); //oil temp block index
          break;
        
        case 1:
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.identifier])).buffer))); //oil level identifier
          file_buffer = file_buffer.concat(oil_level_checker_tool.endianness); //oil level endianness
          file_buffer = file_buffer.concat(oil_level_checker_tool.size); //oil level byte size
          file_buffer = file_buffer.concat(oil_level_checker_tool.sign); //oil level sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.factor])).buffer))); //oil level factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.divisor])).buffer))); //oil level divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.offset])).buffer))); //oil level offset
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.identifier_temp])).buffer))); //oil temp identifier
          file_buffer = file_buffer.concat(oil_level_checker_tool.endianness_temp); //oil temp endianness
          file_buffer = file_buffer.concat(oil_level_checker_tool.size_temp); //oil temp byte size
          file_buffer = file_buffer.concat(oil_level_checker_tool.sign_temp); //oil temp sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.factor_temp])).buffer))); //oil temp factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.divisor_temp])).buffer))); //oil temp divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.offset_temp])).buffer))); //oil temp offset
          break;
      }
    }
    
    file_buffer = file_buffer.concat(engine_mileage_tool.enabled); //engine mileage tool enable status
    if (engine_mileage_tool.enabled) {
      if (!engine_mileage_tool.module) {
        alert(S_conversion_error + " (3)");
        return;
      }
      
      file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint32Array([engine_mileage_tool.km_offset])).buffer))); //mileage km offset
      
      file_buffer = file_buffer.concat(engine_mileage_tool.protocol); //mileage protocol
      file_buffer = file_buffer.concat(engine_mileage_tool.module); //mileage module
      switch (engine_mileage_tool.protocol) {
        case 0:
          file_buffer = file_buffer.concat(engine_mileage_tool.block); //mileage block
          file_buffer = file_buffer.concat(engine_mileage_tool.index); //mileage block index
          break;
        
        case 1:
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([engine_mileage_tool.identifier])).buffer))); //mileage identifier
          file_buffer = file_buffer.concat(engine_mileage_tool.endianness); //mileage endianness
          file_buffer = file_buffer.concat(engine_mileage_tool.size); //mileage byte size
          file_buffer = file_buffer.concat(engine_mileage_tool.sign); //mileage sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([engine_mileage_tool.factor])).buffer))); //mileage factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([engine_mileage_tool.divisor])).buffer))); //mileage divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([engine_mileage_tool.offset])).buffer))); //mileage offset
          break;
      }
    }
    
    file_buffer = file_buffer.concat(used_kwp_devices); //KWP modules
    file_buffer = file_buffer.concat(used_uds_devices); //UDS modules
    file_buffer = file_buffer.concat(page_array.length); //number of pages
        
    var array_of_pages = [];
    var page_start_pointers = new Uint32Array(page_array.length);
    page_start_pointers[0] = file_buffer.length + 4 * page_array.length;
        
    for (var pg = 0; pg < page_array.length; pg++) {
      var page = page_array[pg];
      
      var page_buffer = [];
      
      var page_settings = 0;
      page_buffer = page_buffer.concat(Array.from(new Uint8Array([page_settings])));
      
      page_buffer = page_buffer.concat(Array.from(encode8859(page.title)), 0); //page title; null-terminated      
      page_buffer = page_buffer.concat(page.parameters.length); //number of parameters
      
      var array_of_parameters = [];
      var parameter_start_pointers = new Uint32Array(page.parameters.length);
      parameter_start_pointers[0] = page_start_pointers[pg] + page.title.length + 3 + 4 * page.parameters.length;
      
      for (var par = 0; par < page.parameters.length; par++) {
        parameter = page.parameters[par];
        
        var parameter_buffer = [];
        
        var parameter_settings = 0;
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array([parameter_settings])));
        
        parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.name)), 0); //parameter name; null-terminated
        parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.units)), 0); //parameter units; null-terminated
        
        parameter_buffer = parameter_buffer.concat(parameter.source.protocol); //source protocol
        parameter_buffer = parameter_buffer.concat(parameter.source.module); //source module
        
        switch (parameter.source.protocol) {
          case 0: //KWP
            var found = false;
            for (var i = 0; i < 5; i++) {
              if (parameter.source.module === used_kwp_devices[i]) {
                found = true;
              }
            }
            
            if (!found || !parameter.source.module) {
              alert(S_conversion_error + " (4)");
              return;
            }
            
            parameter_buffer = parameter_buffer.concat(parameter.source.block); //source block
            parameter_buffer = parameter_buffer.concat(parameter.source.index); //source block index
            break;
          
          case 1: //UDS
            var found = false;
            for (var i = 0; i < 5; i++) {
              if (parameter.source.module === used_uds_devices[i]) {
                found = true;
              }
            }
            
            if (!found || !parameter.source.module) {
              alert(S_conversion_error + " (5)");
              return;
            }
            
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.identifier])).buffer))); //identifier
            parameter_buffer = parameter_buffer.concat(parameter.source.endianness); //endianness
            parameter_buffer = parameter_buffer.concat(parameter.source.size); //byte size
            parameter_buffer = parameter_buffer.concat(parameter.source.sign); //sign
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.factor])).buffer))); //factor
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.divisor])).buffer))); //divisor
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.source.offset])).buffer))); //offset
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(parameter.display.mode);
        
        switch (parameter.display.mode) {
          case 0: //exact value
            var decimals = parameter.display.decimals;
            if (parameter.display.forced) decimals |= (1 << 7);
            parameter_buffer = parameter_buffer.concat(decimals); //decimals + forced flag
            break;
          
          case 1: //mapped value
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.display.offset])).buffer))); //offset
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.in_min])).buffer))); //in min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.in_max])).buffer))); //in max
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.out_min])).buffer))); //out min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.out_max])).buffer))); //out max
            
            var decimals = parameter.display.decimals;
            if (parameter.display.limit_min) decimals |= (1 << 6);
            if (parameter.display.limit_max) decimals |= (1 << 7);
            parameter_buffer = parameter_buffer.concat(decimals); //decimals + limit flags
            break;
          
          case 2: //custom text
            parameter_buffer = parameter_buffer.concat(parameter.display.condition.type);
             
            switch (parameter.display.condition.type) {
              case 0: //if/not value
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.value])).buffer))); //value
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.if_value)), 0); //string if value; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.if_not_value)), 0); //string if not value; null-terminated
                break;
              
              case 1: //inside/outside range
                if (parameter.display.condition.range_min > parameter.display.condition.range_max)
                {
                  var x = parameter.display.condition.range_max;
                  parameter.display.condition.range_max = parameter.display.condition.range_min;
                  parameter.display.condition.range_min = x;
                }
                
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_min])).buffer))); //range min
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_max])).buffer))); //range max
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.inside_range)), 0); //string inside range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.outside_range)), 0); //string outside range; null-terminated
                break;
              
              case 2: //below/inside/above range
                if (parameter.display.condition.range_min > parameter.display.condition.range_max)
                {
                  var x = parameter.display.condition.range_max;
                  parameter.display.condition.range_max = parameter.display.condition.range_min;
                  parameter.display.condition.range_min = x;
                }
                
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_min])).buffer))); //range min
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_max])).buffer))); //range max
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.below_range)), 0); //string below range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.inside_range)), 0); //string inside range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.above_range)), 0); //string above range; null-terminated
                break;
            }
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(parameter.warning.mode);
        
        switch (parameter.warning.mode) {
          case 1: //if exact value
          case 2: //if not exact value
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.value])).buffer))); //value
            break;
          
          case 3: //if inside range
          case 4: //if outside range
            if (parameter.warning.range_min > parameter.warning.range_max)
            {
              var x = parameter.warning.range_max;
              parameter.warning.range_max = parameter.warning.range_min;
              parameter.warning.range_min = x;
            }
            
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.range_min])).buffer))); //range min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.range_max])).buffer))); //range max
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.graph.top])).buffer))); //graph top
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.graph.bottom])).buffer))); //graph bottom
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.graph.rate])).buffer))); //graph rate
        
        //Parameter done; add it to the array
        array_of_parameters = array_of_parameters.concat(parameter_buffer);
        
        //Determine at what offset the parameter starts
        if (par !== (page.parameters.length - 1)) {
          parameter_start_pointers[par + 1] = parameter_start_pointers[par] + (Uint8Array.from(parameter_buffer)).length;
        }
      }
      
      //Page done; add the parameter lengths array to the start of the parameter array
      array_of_parameters = (Array.from(new Uint8Array(parameter_start_pointers.buffer))).concat(array_of_parameters);
      
      //Add the lengths+parameters array to the page buffer
      page_buffer = page_buffer.concat(array_of_parameters);
      
      //Add the page buffer to the page array
      array_of_pages = array_of_pages.concat(page_buffer);
      
      //Determine at what offset the page starts
      if (pg !== (page_array.length - 1)) {
        page_start_pointers[pg + 1] = page_start_pointers[pg] + (Uint8Array.from(page_buffer)).length;
      }
    }
    
    file_buffer = file_buffer.concat(Array.from(new Uint8Array(page_start_pointers.buffer)), array_of_pages);
    
    file_buffer = file_buffer.concat([0x55, 0xAA]);
    
    var typed_array = new Uint8Array(file_buffer);
    var blob = new Blob([typed_array]);
		saveAs(blob, "config.bin");
  }
  
  function convert_to_version_0200() {
    var file_buffer = [0x55, 0xAA, 0x00, 0x02];
    
    file_buffer = file_buffer.concat(acceleration_timer_tool.enabled); //acceleration tool enable status
    if (acceleration_timer_tool.enabled) {
      if (!acceleration_timer_tool.module) {
        alert(S_conversion_error + " (1)");
        return;
      }
      
      file_buffer = file_buffer.concat(acceleration_timer_tool.protocol); //speed protocol
      file_buffer = file_buffer.concat(acceleration_timer_tool.module); //speed module
      switch (acceleration_timer_tool.protocol) {
        case 0:
          file_buffer = file_buffer.concat(acceleration_timer_tool.block); //speed block
          file_buffer = file_buffer.concat(acceleration_timer_tool.index); //speed block index
          break;
        
        case 1:
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.identifier])).buffer))); //speed identifier
          file_buffer = file_buffer.concat(acceleration_timer_tool.endianness); //speed endianness
          file_buffer = file_buffer.concat(acceleration_timer_tool.size); //speed byte size
          file_buffer = file_buffer.concat(acceleration_timer_tool.sign); //speed sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.factor])).buffer))); //speed factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([acceleration_timer_tool.divisor])).buffer))); //speed divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([acceleration_timer_tool.offset])).buffer))); //speed offset
          break;
      }
    }
    
    file_buffer = file_buffer.concat(oil_level_checker_tool.enabled); //oil level tool enable status
    if (oil_level_checker_tool.enabled) {
      if (!oil_level_checker_tool.module) {
        alert(S_conversion_error + " (2)");
        return;
      }
      
      if (oil_level_checker_tool.min > oil_level_checker_tool.max)
      {
        var x = oil_level_checker_tool.max;
        oil_level_checker_tool.max = oil_level_checker_tool.min;
        oil_level_checker_tool.min = x;
      }
      
      file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.min])).buffer))); //oil level min
      file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.max])).buffer))); //oil level max
      
      file_buffer = file_buffer.concat(oil_level_checker_tool.protocol); //oil level/temp protocol
      file_buffer = file_buffer.concat(oil_level_checker_tool.module); //oil level/temp module
      switch (oil_level_checker_tool.protocol) {
        case 0:
          file_buffer = file_buffer.concat(oil_level_checker_tool.block); //oil level block
          file_buffer = file_buffer.concat(oil_level_checker_tool.index); //oil level block index
          file_buffer = file_buffer.concat(oil_level_checker_tool.block_temp); //oil temp block
          file_buffer = file_buffer.concat(oil_level_checker_tool.index_temp); //oil temp block index
          break;
        
        case 1:
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.identifier])).buffer))); //oil level identifier
          file_buffer = file_buffer.concat(oil_level_checker_tool.endianness); //oil level endianness
          file_buffer = file_buffer.concat(oil_level_checker_tool.size); //oil level byte size
          file_buffer = file_buffer.concat(oil_level_checker_tool.sign); //oil level sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.factor])).buffer))); //oil level factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.divisor])).buffer))); //oil level divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.offset])).buffer))); //oil level offset
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.identifier_temp])).buffer))); //oil temp identifier
          file_buffer = file_buffer.concat(oil_level_checker_tool.endianness_temp); //oil temp endianness
          file_buffer = file_buffer.concat(oil_level_checker_tool.size_temp); //oil temp byte size
          file_buffer = file_buffer.concat(oil_level_checker_tool.sign_temp); //oil temp sign
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.factor_temp])).buffer))); //oil temp factor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Uint16Array([oil_level_checker_tool.divisor_temp])).buffer))); //oil temp divisor
          file_buffer = file_buffer.concat(Array.from(new Uint8Array((new Float32Array([oil_level_checker_tool.offset_temp])).buffer))); //oil temp offset
          break;
      }
    }
    
    file_buffer = file_buffer.concat(0); //engine mileage tool enable status (disabled for conversion)
    
    file_buffer = file_buffer.concat(used_kwp_devices); //KWP modules
    file_buffer = file_buffer.concat(used_uds_devices); //UDS modules
    file_buffer = file_buffer.concat(page_array.length); //number of pages
        
    var array_of_pages = [];
    var page_start_pointers = new Uint32Array(page_array.length);
    page_start_pointers[0] = file_buffer.length + 4 * page_array.length;
        
    for (var pg = 0; pg < page_array.length; pg++) {
      var page = page_array[pg];
      
      var page_buffer = [];
      
      page_buffer = page_buffer.concat(Array.from(encode8859(page.title)), 0); //page title; null-terminated      
      page_buffer = page_buffer.concat(page.parameters.length); //number of parameters
      
      var array_of_parameters = [];
      var parameter_start_pointers = new Uint32Array(page.parameters.length);
      parameter_start_pointers[0] = page_start_pointers[pg] + page.title.length + 2 + 4 * page.parameters.length;
      
      for (var par = 0; par < page.parameters.length; par++) {
        parameter = page.parameters[par];
        
        var parameter_buffer = [];
        
        parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.name)), 0); //parameter name; null-terminated
        parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.units)), 0); //parameter units; null-terminated
        
        parameter_buffer = parameter_buffer.concat(parameter.source.protocol); //source protocol
        parameter_buffer = parameter_buffer.concat(parameter.source.module); //source module
        
        switch (parameter.source.protocol) {
          case 0: //KWP
            var found = false;
            for (var i = 0; i < 5; i++) {
              if (parameter.source.module === used_kwp_devices[i]) {
                found = true;
              }
            }
            
            if (!found || !parameter.source.module) {
              alert(S_conversion_error + " (3)");
              return;
            }
            
            parameter_buffer = parameter_buffer.concat(parameter.source.block); //source block
            parameter_buffer = parameter_buffer.concat(parameter.source.index); //source block index
            break;
          
          case 1: //UDS
            var found = false;
            for (var i = 0; i < 5; i++) {
              if (parameter.source.module === used_uds_devices[i]) {
                found = true;
              }
            }
            
            if (!found || !parameter.source.module) {
              alert(S_conversion_error + " (4)");
              return;
            }
            
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.identifier])).buffer))); //identifier
            parameter_buffer = parameter_buffer.concat(parameter.source.endianness); //endianness
            parameter_buffer = parameter_buffer.concat(parameter.source.size); //byte size
            parameter_buffer = parameter_buffer.concat(parameter.source.sign); //sign
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.factor])).buffer))); //factor
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Uint16Array([parameter.source.divisor])).buffer))); //divisor
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.source.offset])).buffer))); //offset
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(parameter.display.mode);
        
        switch (parameter.display.mode) {
          case 0: //exact value
            var decimals = parameter.display.decimals;
            if (parameter.display.forced) decimals |= (1 << 7);
            parameter_buffer = parameter_buffer.concat(decimals); //decimals + forced flag
            break;
          
          case 1: //mapped value
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.display.offset])).buffer))); //offset
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.in_min])).buffer))); //in min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.in_max])).buffer))); //in max
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.out_min])).buffer))); //out min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.out_max])).buffer))); //out max
            
            var decimals = parameter.display.decimals;
            if (parameter.display.limit_min) decimals |= (1 << 6);
            if (parameter.display.limit_max) decimals |= (1 << 7);
            parameter_buffer = parameter_buffer.concat(decimals); //decimals + limit flags
            break;
          
          case 2: //custom text
            parameter_buffer = parameter_buffer.concat(parameter.display.condition.type);
             
            switch (parameter.display.condition.type) {
              case 0: //if/not value
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.value])).buffer))); //value
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.if_value)), 0); //string if value; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.if_not_value)), 0); //string if not value; null-terminated
                break;
              
              case 1: //inside/outside range
                if (parameter.display.condition.range_min > parameter.display.condition.range_max)
                {
                  var x = parameter.display.condition.range_max;
                  parameter.display.condition.range_max = parameter.display.condition.range_min;
                  parameter.display.condition.range_min = x;
                }
                
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_min])).buffer))); //range min
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_max])).buffer))); //range max
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.inside_range)), 0); //string inside range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.outside_range)), 0); //string outside range; null-terminated
                break;
              
              case 2: //below/inside/above range
                if (parameter.display.condition.range_min > parameter.display.condition.range_max)
                {
                  var x = parameter.display.condition.range_max;
                  parameter.display.condition.range_max = parameter.display.condition.range_min;
                  parameter.display.condition.range_min = x;
                }
                
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_min])).buffer))); //range min
                parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.display.condition.range_max])).buffer))); //range max
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.below_range)), 0); //string below range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.inside_range)), 0); //string inside range; null-terminated
                parameter_buffer = parameter_buffer.concat(Array.from(encode8859(parameter.display.condition.above_range)), 0); //string above range; null-terminated
                break;
            }
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(parameter.warning.mode);
        
        switch (parameter.warning.mode) {
          case 1: //if exact value
          case 2: //if not exact value
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.value])).buffer))); //value
            break;
          
          case 3: //if inside range
          case 4: //if outside range
            if (parameter.warning.range_min > parameter.warning.range_max)
            {
              var x = parameter.warning.range_max;
              parameter.warning.range_max = parameter.warning.range_min;
              parameter.warning.range_min = x;
            }
            
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.range_min])).buffer))); //range min
            parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.warning.range_max])).buffer))); //range max
            break;
        }
        
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.graph.top])).buffer))); //graph top
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Float32Array([parameter.graph.bottom])).buffer))); //graph bottom
        parameter_buffer = parameter_buffer.concat(Array.from(new Uint8Array((new Int16Array([parameter.graph.rate])).buffer))); //graph rate
        
        //Parameter done; add it to the array
        array_of_parameters = array_of_parameters.concat(parameter_buffer);
        
        //Determine at what offset the parameter starts
        if (par !== (page.parameters.length - 1)) {
          parameter_start_pointers[par + 1] = parameter_start_pointers[par] + (Uint8Array.from(parameter_buffer)).length;
        }
      }
      
      //Page done; add the parameter lengths array to the start of the parameter array
      array_of_parameters = (Array.from(new Uint8Array(parameter_start_pointers.buffer))).concat(array_of_parameters);
      
      //Add the lengths+parameters array to the page buffer
      page_buffer = page_buffer.concat(array_of_parameters);
      
      //Add the page buffer to the page array
      array_of_pages = array_of_pages.concat(page_buffer);
      
      //Determine at what offset the page starts
      if (pg !== (page_array.length - 1)) {
        page_start_pointers[pg + 1] = page_start_pointers[pg] + (Uint8Array.from(page_buffer)).length;
      }
    }
    
    file_buffer = file_buffer.concat(Array.from(new Uint8Array(page_start_pointers.buffer)), array_of_pages);
    
    file_buffer = file_buffer.concat([0x55, 0xAA]);
    
    var typed_array = new Uint8Array(file_buffer);
    var blob = new Blob([typed_array]);
		saveAs(blob, "config.bin");
  }
</script>
